package cluster;

import org.apdplat.word.WordSegmenter;

import java.util.HashMap;
import java.util.HashSet;
import java.util.Map;
import java.util.Set;

import static utils.Utils.json2Map;

/**
 * Created by jinha on 2017/4/27.
 */
public class test {
    private static Double getCosDistance(Map<String, Double> aMap, Map<String, Double> bMap){
        Set<String> set = new HashSet<String>();
        set.addAll(aMap.keySet());
        set.addAll(bMap.keySet());
        double re = 0;
        for (String s:set) {
            double a = aMap.containsKey(s)?aMap.get(s):0.0;
            double b = bMap.containsKey(s)?bMap.get(s):0.0;
            re+=a*b;
        }
        double aPlus = 0;
        for(double d:aMap.values()){
            aPlus+=d*d;
        }

        double bPlus = 0;
        for(double d:bMap.values()){
            bPlus+=d*d;
        }
        double haha = re/Math.sqrt(aPlus)/Math.sqrt(bPlus);
        if (haha>0.7)
            System.out.println();
        return haha;
    }

    public static void main(String[] args) {

        String as = "{\n" +
                "  \"正式\": 0.004166666666666667,\n" +
                "  \"模式\": 0.008333333333333333,\n" +
                "  \"提高\": 0.0125,\n" +
                "  \"奔波\": 0.004166666666666667,\n" +
                "  \"受理\": 0.004166666666666667,\n" +
                "  \"内部\": 0.004166666666666667,\n" +
                "  \"统一\": 0.008333333333333333,\n" +
                "  \"试运行\": 0.004166666666666667,\n" +
                "  \"一门式\": 0.0125,\n" +
                "  \"落实\": 0.004166666666666667,\n" +
                "  \"来回\": 0.004166666666666667,\n" +
                "  \"较大\": 0.004166666666666667,\n" +
                "  \"化\": 0.004166666666666667,\n" +
                "  \"通\": 0.016666666666666666,\n" +
                "  \"地址\": 0.004166666666666667,\n" +
                "  \"实践\": 0.004166666666666667,\n" +
                "  \"纳入\": 0.004166666666666667,\n" +
                "  \"张\": 0.004166666666666667,\n" +
                "  \"确保\": 0.004166666666666667,\n" +
                "  \"办理\": 0.025,\n" +
                "  \"窗口\": 0.0125,\n" +
                "  \"得以\": 0.004166666666666667,\n" +
                "  \"保卫\": 0.004166666666666667,\n" +
                "  \"申请\": 0.004166666666666667,\n" +
                "  \"现在三\": 0.004166666666666667,\n" +
                "  \"据介绍\": 0.004166666666666667,\n" +
                "  \"磨合期\": 0.004166666666666667,\n" +
                "  \"此次\": 0.016666666666666666,\n" +
                "  \"协助\": 0.004166666666666667,\n" +
                "  \"效率\": 0.016666666666666666,\n" +
                "  \"所在地\": 0.004166666666666667,\n" +
                "  \"考察\": 0.004166666666666667,\n" +
                "  \"水\": 0.008333333333333333,\n" +
                "  \"便民\": 0.008333333333333333,\n" +
                "  \"多方面\": 0.004166666666666667,\n" +
                "  \"区\": 0.004166666666666667,\n" +
                "  \"社\": 0.004166666666666667,\n" +
                "  \"全新\": 0.004166666666666667,\n" +
                "  \"便利\": 0.004166666666666667,\n" +
                "  \"一位\": 0.004166666666666667,\n" +
                "  \"事项\": 0.008333333333333333,\n" +
                "  \"市民\": 0.004166666666666667,\n" +
                "  \"尽快\": 0.004166666666666667,\n" +
                "  \"迎来\": 0.004166666666666667,\n" +
                "  \"也表示\": 0.004166666666666667,\n" +
                "  \"镇\": 0.004166666666666667,\n" +
                "  \"同城\": 0.004166666666666667,\n" +
                "  \"陈\": 0.004166666666666667,\n" +
                "  \"各部门\": 0.0125,\n" +
                "  \"一层\": 0.004166666666666667,\n" +
                "  \"打破\": 0.008333333333333333,\n" +
                "  \"政务\": 0.0125,\n" +
                "  \"王文\": 0.004166666666666667,\n" +
                "  \"体\": 0.004166666666666667,\n" +
                "  \"整体\": 0.004166666666666667,\n" +
                "  \"多个\": 0.008333333333333333,\n" +
                "  \"合作\": 0.004166666666666667,\n" +
                "  \"权限\": 0.004166666666666667,\n" +
                "  \"行政\": 0.05,\n" +
                "  \"障碍\": 0.004166666666666667,\n" +
                "  \"居民\": 0.008333333333333333,\n" +
                "  \"全城\": 0.016666666666666666,\n" +
                "  \"涉及\": 0.004166666666666667,\n" +
                "  \"共\": 0.008333333333333333,\n" +
                "  \"服务中心\": 0.020833333333333332,\n" +
                "  \"导致\": 0.004166666666666667,\n" +
                "  \"相关\": 0.008333333333333333,\n" +
                "  \"负责人\": 0.008333333333333333,\n" +
                "  \"团队\": 0.004166666666666667,\n" +
                "  \"按此\": 0.004166666666666667,\n" +
                "  \"影响\": 0.004166666666666667,\n" +
                "  \"佛山市\": 0.004166666666666667,\n" +
                "  \"项\": 0.004166666666666667,\n" +
                "  \"本次\": 0.004166666666666667,\n" +
                "  \"类\": 0.004166666666666667,\n" +
                "  \"提升\": 0.004166666666666667,\n" +
                "  \"三水区\": 0.025,\n" +
                "  \"切实\": 0.004166666666666667,\n" +
                "  \"笔者\": 0.004166666666666667,\n" +
                "  \"四个一\": 0.004166666666666667,\n" +
                "  \"区内\": 0.004166666666666667,\n" +
                "  \"了解到\": 0.004166666666666667,\n" +
                "  \"现场\": 0.004166666666666667,\n" +
                "  \"享受\": 0.004166666666666667,\n" +
                "  \"网点\": 0.004166666666666667,\n" +
                "  \"格局\": 0.004166666666666667,\n" +
                "  \"基础\": 0.004166666666666667,\n" +
                "  \"计生\": 0.004166666666666667,\n" +
                "  \"区长\": 0.004166666666666667,\n" +
                "  \"常住地\": 0.004166666666666667,\n" +
                "  \"体验\": 0.004166666666666667,\n" +
                "  \"标准\": 0.008333333333333333,\n" +
                "  \"下午\": 0.004166666666666667,\n" +
                "  \"同质\": 0.004166666666666667,\n" +
                "  \"部署\": 0.004166666666666667,\n" +
                "  \"均能\": 0.004166666666666667,\n" +
                "  \"办\": 0.025,\n" +
                "  \"更将\": 0.004166666666666667,\n" +
                "  \"实\": 0.004166666666666667,\n" +
                "  \"计\": 0.004166666666666667,\n" +
                "  \"提高到\": 0.004166666666666667,\n" +
                "  \"获悉\": 0.004166666666666667,\n" +
                "  \"过程中\": 0.004166666666666667,\n" +
                "  \"一个整\": 0.004166666666666667,\n" +
                "  \"上海\": 0.004166666666666667,\n" +
                "  \"地域\": 0.004166666666666667,\n" +
                "  \"英文\": 0.004166666666666667,\n" +
                "  \"办事\": 0.025,\n" +
                "  \"概括\": 0.004166666666666667,\n" +
                "  \"级\": 0.004166666666666667,\n" +
                "  \"西南\": 0.008333333333333333,\n" +
                "  \"后台\": 0.004166666666666667,\n" +
                "  \"层级\": 0.0125,\n" +
                "  \"显示\": 0.004166666666666667,\n" +
                "  \"行政区划\": 0.004166666666666667,\n" +
                "  \"三红\": 0.004166666666666667,\n" +
                "  \"开设\": 0.004166666666666667,\n" +
                "  \"不用\": 0.004166666666666667,\n" +
                "  \"共有\": 0.004166666666666667,\n" +
                "  \"满意度\": 0.004166666666666667,\n" +
                "  \"梳理\": 0.004166666666666667,\n" +
                "  \"调整\": 0.004166666666666667,\n" +
                "  \"综合服务\": 0.004166666666666667,\n" +
                "  \"标准化\": 0.008333333333333333,\n" +
                "  \"件件\": 0.004166666666666667,\n" +
                "  \"秋\": 0.004166666666666667,\n" +
                "  \"探索\": 0.004166666666666667,\n" +
                "  \"街道\": 0.008333333333333333,\n" +
                "  \"业务\": 0.025,\n" +
                "  \"城\": 0.004166666666666667,\n" +
                "  \"全区\": 0.004166666666666667,\n" +
                "  \"进\": 0.004166666666666667,\n" +
                "  \"一门\": 0.0125,\n" +
                "  \"日\": 0.008333333333333333,\n" +
                "  \"还从\": 0.004166666666666667,\n" +
                "  \"流程\": 0.008333333333333333,\n" +
                "  \"门\": 0.008333333333333333,\n" +
                "  \"跨\": 0.004166666666666667,\n" +
                "  \"度过\": 0.004166666666666667,\n" +
                "  \"区域\": 0.004166666666666667,\n" +
                "  \"数据\": 0.004166666666666667,\n" +
                "  \"审批\": 0.008333333333333333,\n" +
                "  \"间\": 0.004166666666666667,\n" +
                "  \"建立起\": 0.004166666666666667,\n" +
                "  \"件\": 0.0125,\n" +
                "  \"优化\": 0.004166666666666667,\n" +
                "  \"即将\": 0.004166666666666667,\n" +
                "  \"户籍\": 0.008333333333333333,\n" +
                "  \"上线\": 0.004166666666666667,\n" +
                "  \"分区\": 0.008333333333333333,\n" +
                "  \"可享受\": 0.004166666666666667\n" +
                "}";
        String bs = "{\n" +
                "  \"正式\": 0.0031446540880503146,\n" +
                "  \"奔波\": 0.0031446540880503146,\n" +
                "  \"内部\": 0.0031446540880503146,\n" +
                "  \"通讯员\": 0.0031446540880503146,\n" +
                "  \"身材\": 0.0031446540880503146,\n" +
                "  \"来回\": 0.0031446540880503146,\n" +
                "  \"较大\": 0.0031446540880503146,\n" +
                "  \"致死\": 0.0031446540880503146,\n" +
                "  \"通\": 0.012578616352201259,\n" +
                "  \"地址\": 0.0031446540880503146,\n" +
                "  \"实践\": 0.0031446540880503146,\n" +
                "  \"模\": 0.0031446540880503146,\n" +
                "  \"窗口\": 0.009433962264150943,\n" +
                "  \"输入\": 0.0031446540880503146,\n" +
                "  \"得以\": 0.0031446540880503146,\n" +
                "  \"玻璃\": 0.0031446540880503146,\n" +
                "  \"现在三\": 0.0031446540880503146,\n" +
                "  \"巨无霸\": 0.0031446540880503146,\n" +
                "  \"据介绍\": 0.0031446540880503146,\n" +
                "  \"二维码\": 0.0031446540880503146,\n" +
                "  \"此次\": 0.012578616352201259,\n" +
                "  \"所在地\": 0.0031446540880503146,\n" +
                "  \"考察\": 0.0031446540880503146,\n" +
                "  \"水\": 0.006289308176100629,\n" +
                "  \"便民\": 0.006289308176100629,\n" +
                "  \"多方面\": 0.0031446540880503146,\n" +
                "  \"女神\": 0.0031446540880503146,\n" +
                "  \"傲人\": 0.0031446540880503146,\n" +
                "  \"便利\": 0.0031446540880503146,\n" +
                "  \"上演\": 0.0031446540880503146,\n" +
                "  \"市民\": 0.0031446540880503146,\n" +
                "  \"发言\": 0.0031446540880503146,\n" +
                "  \"陈\": 0.0031446540880503146,\n" +
                "  \"各部门\": 0.009433962264150943,\n" +
                "  \"一层\": 0.0031446540880503146,\n" +
                "  \"重庆\": 0.0031446540880503146,\n" +
                "  \"打破\": 0.006289308176100629,\n" +
                "  \"整体\": 0.0031446540880503146,\n" +
                "  \"多个\": 0.006289308176100629,\n" +
                "  \"合作\": 0.0031446540880503146,\n" +
                "  \"行政\": 0.03773584905660377,\n" +
                "  \"泳装秀\": 0.0031446540880503146,\n" +
                "  \"居民\": 0.006289308176100629,\n" +
                "  \"评论\": 0.0031446540880503146,\n" +
                "  \"窗帘\": 0.0031446540880503146,\n" +
                "  \"法纪\": 0.0031446540880503146,\n" +
                "  \"项\": 0.0031446540880503146,\n" +
                "  \"类\": 0.0031446540880503146,\n" +
                "  \"魔鬼\": 0.0031446540880503146,\n" +
                "  \"三水区\": 0.018867924528301886,\n" +
                "  \"切实\": 0.0031446540880503146,\n" +
                "  \"四个一\": 0.0031446540880503146,\n" +
                "  \"打穿\": 0.0031446540880503146,\n" +
                "  \"成功\": 0.0031446540880503146,\n" +
                "  \"了解到\": 0.0031446540880503146,\n" +
                "  \"享受\": 0.0031446540880503146,\n" +
                "  \"还可以\": 0.0031446540880503146,\n" +
                "  \"常住地\": 0.0031446540880503146,\n" +
                "  \"标准\": 0.006289308176100629,\n" +
                "  \"下午\": 0.0031446540880503146,\n" +
                "  \"同质\": 0.0031446540880503146,\n" +
                "  \"均能\": 0.0031446540880503146,\n" +
                "  \"办\": 0.018867924528301886,\n" +
                "  \"红\": 0.0031446540880503146,\n" +
                "  \"上海\": 0.0031446540880503146,\n" +
                "  \"地域\": 0.0031446540880503146,\n" +
                "  \"身姿\": 0.0031446540880503146,\n" +
                "  \"英文\": 0.0031446540880503146,\n" +
                "  \"级\": 0.0031446540880503146,\n" +
                "  \"层级\": 0.009433962264150943,\n" +
                "  \"显示\": 0.0031446540880503146,\n" +
                "  \"行政区划\": 0.0031446540880503146,\n" +
                "  \"开设\": 0.0031446540880503146,\n" +
                "  \"不用\": 0.0031446540880503146,\n" +
                "  \"物理\": 0.0031446540880503146,\n" +
                "  \"酷似\": 0.0031446540880503146,\n" +
                "  \"驾车\": 0.0031446540880503146,\n" +
                "  \"审核\": 0.0031446540880503146,\n" +
                "  \"发表\": 0.006289308176100629,\n" +
                "  \"件件\": 0.0031446540880503146,\n" +
                "  \"要为\": 0.0031446540880503146,\n" +
                "  \"街道\": 0.006289308176100629,\n" +
                "  \"有情人\": 0.0031446540880503146,\n" +
                "  \"全区\": 0.0031446540880503146,\n" +
                "  \"小提示\": 0.0031446540880503146,\n" +
                "  \"枪眼\": 0.0031446540880503146,\n" +
                "  \"张三\": 0.0031446540880503146,\n" +
                "  \"流程\": 0.006289308176100629,\n" +
                "  \"审批\": 0.006289308176100629,\n" +
                "  \"件\": 0.009433962264150943,\n" +
                "  \"优化\": 0.0031446540880503146,\n" +
                "  \"男子\": 0.0031446540880503146,\n" +
                "  \"即将\": 0.0031446540880503146,\n" +
                "  \"户籍\": 0.006289308176100629,\n" +
                "  \"炼就\": 0.0031446540880503146,\n" +
                "  \"模式\": 0.006289308176100629,\n" +
                "  \"提高\": 0.009433962264150943,\n" +
                "  \"前妻\": 0.0031446540880503146,\n" +
                "  \"受理\": 0.0031446540880503146,\n" +
                "  \"外教\": 0.0031446540880503146,\n" +
                "  \"英语\": 0.0031446540880503146,\n" +
                "  \"统一\": 0.006289308176100629,\n" +
                "  \"试运行\": 0.0031446540880503146,\n" +
                "  \"一门式\": 0.009433962264150943,\n" +
                "  \"落实\": 0.0031446540880503146,\n" +
                "  \"化\": 0.0031446540880503146,\n" +
                "  \"纳入\": 0.0031446540880503146,\n" +
                "  \"确保\": 0.0031446540880503146,\n" +
                "  \"公众\": 0.0031446540880503146,\n" +
                "  \"办理\": 0.018867924528301886,\n" +
                "  \"走红\": 0.0031446540880503146,\n" +
                "  \"冲撞\": 0.0031446540880503146,\n" +
                "  \"保卫\": 0.0031446540880503146,\n" +
                "  \"申请\": 0.0031446540880503146,\n" +
                "  \"磨合期\": 0.0031446540880503146,\n" +
                "  \"协助\": 0.0031446540880503146,\n" +
                "  \"效率\": 0.012578616352201259,\n" +
                "  \"识别\": 0.0031446540880503146,\n" +
                "  \"时装周\": 0.0031446540880503146,\n" +
                "  \"区\": 0.0031446540880503146,\n" +
                "  \"社\": 0.0031446540880503146,\n" +
                "  \"全新\": 0.0031446540880503146,\n" +
                "  \"一位\": 0.0031446540880503146,\n" +
                "  \"事项\": 0.006289308176100629,\n" +
                "  \"后果\": 0.0031446540880503146,\n" +
                "  \"福建\": 0.0031446540880503146,\n" +
                "  \"尽快\": 0.0031446540880503146,\n" +
                "  \"迎来\": 0.0031446540880503146,\n" +
                "  \"也表示\": 0.0031446540880503146,\n" +
                "  \"镇\": 0.0031446540880503146,\n" +
                "  \"南方\": 0.006289308176100629,\n" +
                "  \"同城\": 0.0031446540880503146,\n" +
                "  \"政务\": 0.009433962264150943,\n" +
                "  \"王文\": 0.0031446540880503146,\n" +
                "  \"体\": 0.0031446540880503146,\n" +
                "  \"大厦\": 0.0031446540880503146,\n" +
                "  \"字\": 0.0031446540880503146,\n" +
                "  \"教\": 0.0031446540880503146,\n" +
                "  \"不懂\": 0.0031446540880503146,\n" +
                "  \"权限\": 0.0031446540880503146,\n" +
                "  \"障碍\": 0.0031446540880503146,\n" +
                "  \"文明\": 0.006289308176100629,\n" +
                "  \"日报\": 0.0031446540880503146,\n" +
                "  \"全城\": 0.012578616352201259,\n" +
                "  \"涉及\": 0.0031446540880503146,\n" +
                "  \"共\": 0.006289308176100629,\n" +
                "  \"服务中心\": 0.015723270440251572,\n" +
                "  \"导致\": 0.0031446540880503146,\n" +
                "  \"相关\": 0.006289308176100629,\n" +
                "  \"负责人\": 0.006289308176100629,\n" +
                "  \"团队\": 0.0031446540880503146,\n" +
                "  \"按此\": 0.0031446540880503146,\n" +
                "  \"影响\": 0.0031446540880503146,\n" +
                "  \"长按\": 0.0031446540880503146,\n" +
                "  \"佛山市\": 0.0031446540880503146,\n" +
                "  \"本次\": 0.0031446540880503146,\n" +
                "  \"苗条\": 0.0031446540880503146,\n" +
                "  \"提升\": 0.0031446540880503146,\n" +
                "  \"笔者\": 0.0031446540880503146,\n" +
                "  \"区内\": 0.0031446540880503146,\n" +
                "  \"现场\": 0.0031446540880503146,\n" +
                "  \"网点\": 0.0031446540880503146,\n" +
                "  \"格局\": 0.0031446540880503146,\n" +
                "  \"基础\": 0.0031446540880503146,\n" +
                "  \"练瑜伽\": 0.0031446540880503146,\n" +
                "  \"计生\": 0.0031446540880503146,\n" +
                "  \"区长\": 0.0031446540880503146,\n" +
                "  \"疑\": 0.0031446540880503146,\n" +
                "  \"体验\": 0.0031446540880503146,\n" +
                "  \"部署\": 0.0031446540880503146,\n" +
                "  \"爱因斯坦\": 0.0031446540880503146,\n" +
                "  \"更将\": 0.0031446540880503146,\n" +
                "  \"实\": 0.0031446540880503146,\n" +
                "  \"计\": 0.0031446540880503146,\n" +
                "  \"提高到\": 0.0031446540880503146,\n" +
                "  \"获悉\": 0.0031446540880503146,\n" +
                "  \"遵守\": 0.0031446540880503146,\n" +
                "  \"语言\": 0.0031446540880503146,\n" +
                "  \"过程中\": 0.0031446540880503146,\n" +
                "  \"一个整\": 0.0031446540880503146,\n" +
                "  \"办事\": 0.018867924528301886,\n" +
                "  \"概括\": 0.0031446540880503146,\n" +
                "  \"西南\": 0.006289308176100629,\n" +
                "  \"后台\": 0.0031446540880503146,\n" +
                "  \"言论\": 0.0031446540880503146,\n" +
                "  \"讯\": 0.0031446540880503146,\n" +
                "  \"现\": 0.0031446540880503146,\n" +
                "  \"共有\": 0.0031446540880503146,\n" +
                "  \"满意度\": 0.0031446540880503146,\n" +
                "  \"梳理\": 0.0031446540880503146,\n" +
                "  \"调整\": 0.0031446540880503146,\n" +
                "  \"特大\": 0.0031446540880503146,\n" +
                "  \"秀\": 0.0031446540880503146,\n" +
                "  \"综合服务\": 0.0031446540880503146,\n" +
                "  \"标准化\": 0.006289308176100629,\n" +
                "  \"秋\": 0.0031446540880503146,\n" +
                "  \"探索\": 0.0031446540880503146,\n" +
                "  \"业务\": 0.018867924528301886,\n" +
                "  \"城\": 0.0031446540880503146,\n" +
                "  \"变身\": 0.0031446540880503146,\n" +
                "  \"进\": 0.0031446540880503146,\n" +
                "  \"关注\": 0.0031446540880503146,\n" +
                "  \"一门\": 0.009433962264150943,\n" +
                "  \"日\": 0.006289308176100629,\n" +
                "  \"毫米\": 0.0031446540880503146,\n" +
                "  \"还从\": 0.0031446540880503146,\n" +
                "  \"门\": 0.006289308176100629,\n" +
                "  \"跨\": 0.0031446540880503146,\n" +
                "  \"只\": 0.0031446540880503146,\n" +
                "  \"度过\": 0.0031446540880503146,\n" +
                "  \"区域\": 0.0031446540880503146,\n" +
                "  \"数据\": 0.0031446540880503146,\n" +
                "  \"间\": 0.0031446540880503146,\n" +
                "  \"建立起\": 0.0031446540880503146,\n" +
                "  \"负责\": 0.0031446540880503146,\n" +
                "  \"新闻网\": 0.0031446540880503146,\n" +
                "  \"号\": 0.0031446540880503146,\n" +
                "  \"请\": 0.009433962264150943,\n" +
                "  \"微信\": 0.0031446540880503146,\n" +
                "  \"上线\": 0.0031446540880503146,\n" +
                "  \"甜美\": 0.0031446540880503146,\n" +
                "  \"分区\": 0.006289308176100629,\n" +
                "  \"可享受\": 0.0031446540880503146,\n" +
                "  \"等候\": 0.0031446540880503146\n" +
                "}";

        HashMap<String, Double> a = (HashMap<String, Double>) json2Map(as);
        HashMap<String, Double> b = (HashMap<String, Double>) json2Map(bs);

        System.out.println(getCosDistance(a,b));

    }

}
